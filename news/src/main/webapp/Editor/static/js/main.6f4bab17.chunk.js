(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n(426)},120:function(e,t,n){},131:function(e,t,n){},340:function(e,t){},426:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),l=n(7),o=n.n(l),r=(n(120),n(122),n(112)),s=n(52),c=n(53),u=n(62),d=n(54),h=n(63),g=(n(128),n(46)),m=(n(131),{index_page_url:"/",get_url:"/news/Editor/target",post_url:"/news/Editor/add",get_p_url:"/news/Editor/get?id="}),v=(n(66),n(16)),y=(n(86),n(113)),p=(n(135),n(31)),f=(n(138),n(85)),b=n(83),w=n.n(b),E=n(39),k=n.n(E),O=n(108),C=n.n(O),x=n(64),_=n.n(x),j=(n(359),f.a.Option),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={smde:null,body:"",title:"",category:1,categories:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;k.a.setOptions({renderer:new k.a.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1,highlight:function(e){return w.a.highlightAuto(e).value}}),_.a.get(m.get_url).then(function(t){console.log(t),e.setState({categories:t.data})}).catch(function(e){console.log("error")})}},{key:"componentDidMount",value:function(){var e=this,t=new C.a({element:document.getElementById("editor").childElementCount,autofocus:!0,autosave:!0,previewRender:function(e){return k()(e,{renderer:new k.a.Renderer,gfm:!0,pedantic:!1,sanitize:!1,tables:!0,breaks:!0,smartLists:!0,smartypants:!0,highlight:function(e){return w.a.highlightAuto(e).value}})}});this.setState({smde:t});var n=document.getElementById("val").getAttribute("value");"-1"!==n&&_.a.get(m.get_p_url+n).then(function(n){t.value(n.data.body),e.setState({smde:t,title:n.data.title,category:n.data.target})}).catch(function(e){console.log(e)})}},{key:"handleOnClick",value:function(){var e=document.getElementById("val").getAttribute("value"),t={title:this.state.title,target:this.state.category,body:this.state.smde.value(),id:e};t.title?t.target?t.body?_.a.post(m.post_url,t).then(function(e){var t=e.data;console.log(e.data),"error"==t.type?p.a.warn(t.message):"success"==t.type&&p.a.success("\u63d0\u4ea4\u6210\u529f")}).catch(function(e){console.log(e),p.a.info("Error, Something wrong")}):p.a.warn("\u6587\u7ae0\u4e0d\u80fd\u4e3a\u7a7a"):p.a.warn("\u7c7b\u578b\u4e0d\u80fd\u4e3a\u7a7a"):p.a.warn("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleTypeChange",value:function(e){console.log(e),this.setState({category:e})}},{key:"render",value:function(){var e=this.state.categories.map(function(e,t){return i.a.createElement(j,{value:e.id,key:t},e.name)});return i.a.createElement("div",null,i.a.createElement(y.a,{style:{margin:"10px 0",height:"40px"},value:this.state.title,onChange:this.handleTitleChange.bind(this)}),i.a.createElement(f.a,{defaultValue:this.state.category,size:"large",style:{width:"100%",margin:"10px 0"},onChange:this.handleTypeChange.bind(this)},e),i.a.createElement("textarea",{id:"editor",style:{padding:"10px 0"}}),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(v.a,{onClick:this.handleOnClick.bind(this),style:{textAlign:"center"}},"\u63d0\u4ea4")))}}]),t}(i.a.Component),B=g.a.Header,A=g.a.Content,T=(g.a.Footer,function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={visable:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleShowModle",value:function(){this.setState({visable:!0})}},{key:"handleOnBack",value:function(){window.open(m.index_page_url,"_self")}},{key:"handleOnReturn",value:function(){this.setState({visable:!1})}},{key:"render",value:function(){return i.a.createElement(g.a,{className:"layout"},i.a.createElement(B,null,i.a.createElement("div",{className:"logo"})),i.a.createElement(r.a,{title:"\u786e\u5b9a\u653e\u5f03\u6240\u6709\u66f4\u6539\u5e76\u8fd4\u56de\u5417?",visible:this.state.visable,onOk:this.handleOnBack.bind(this),onCancel:this.handleOnReturn.bind(this),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"}),i.a.createElement(A,{style:{padding:"0 50px"}},i.a.createElement("br",null),i.a.createElement("h2",null,"\u65b0\u5efa\u65b0\u95fb"),i.a.createElement(S,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,2,1]]]);
//# sourceMappingURL=main.6f4bab17.chunk.js.map